;$(function(){$('#modal-dialog').dialog({modal:!0,hide:'fade',show:'fade',autoOpen:!1});$('#update-motivations-button').click(function(a){a.preventDefault();var t=$('#motivations-textarea'),n=t.val(),i=$(this).attr('href');$.ajax({url:i,data:{motivations:n},method:'post',beforeSend:function(){$('#modal-dialog').dialog('open');$('#modal-dialog').html($('.loader')[0].outerHTML);$('#modal-dialog .loader').show()},success:function(a){$('#modal-dialog').html('<p>Vos motivations ont bien été mises à jour.</p>');$('.contract-motivations').html(a)},error:function(){$('#modal-dialog').html('<p>OUPS, erreur imprévue</p>')}})});var a=0;$('.incr-btn').each(function(){var t=$(this);a+=parseInt(t.parent().find('.quantity').val())});function t(){if(a==0){$('#app_bundle_contract_fan_type_submit').attr('disabled','disabled')}
else{$('#app_bundle_contract_fan_type_submit').attr('disabled',null)}};t();$('.incr-btn').on('click',function(i){var n=$(this),o=n.parent().find('.quantity').val();n.parent().find('.incr-btn[data-action="decrease"]').removeClass('inactive');if(n.data('action')=='increase'){var e=parseFloat(o)+1;a++}
else{if(o>0){var e=parseFloat(o)-1;a--}
else{e=0;n.addClass('inactive')}};n.parent().find('.quantity').val(e);t();i.preventDefault()})});