{% macro campaign_row(campaign) %}

    <div class="row mt-4">
        <div class="col-12">
            <h3>{{ campaign.getTitle }}</h3>
            {% if campaign.pending %}
                <div class="mt-2"><i class="fas fa-exclamation"></i>
                    Cette campagne est en attente de validation ou d'annulation de votre part.
                    Pour le bien de vos acheteurs et de vos ventes, il est essentiel de rapidement <a href="{{ path('yb_members_campaign_crowdfunding', {'id': campaign.id}) }}">examiner où en est le financement participatif.</a>
                </div>
            {% endif %}
            <div class="mt-2">Fin des ventes le {{ campaign.dateClosure|date('d/m/Y \\à H:i') }}</div>
            {% if campaign.hasThreshold %}
                <div class="mb-2">Validation le {{ campaign.dateEnd|date('d/m/Y') }}</div>
            {% endif %}
        </div>
        <div class="col-12 col-md-3">
            {{ campaign.counterPartsSold }} ticket(s) vendu(s)<br />
            {{ campaign.contractsFanPaid|length }} commande(s)
        </div>
        <div class="col-12 col-md-2">
            <i class="fas fa-eye text-primary"></i> <a class="link-secondary" target="_blank" href="{{ path('yb_campaign', {'id': campaign.id}) }}">Voir la page de la campagne</a>
        </div>
        {% if not campaign.isPassed %}
            <div class="col-12 col-md-2">
                <i class="fas fa-edit text-primary"></i> <a class="link-secondary" href="{{ path('yb_members_campaign_edit', {'id': campaign.id}) }}">Modifier les informations</a>
            </div>
        {% endif %}
        <div class="col-12 col-md-2">
            <i class="fas fa-list text-primary"></i> <a class="link-secondary" href="{{ path('yb_members_campaign_orders', {'id': campaign.id}) }}">Accéder à la liste de commandes</a>
        </div>
        <div class="col-12 col-md-3">
            <i class="fas fa-comment"></i> <a class="link-secondary" href="{{ path('yb_members_campaign_transactional_message', {'id': campaign.id}) }}">Envoyer un message transactionnel</a>
        </div>
        {% if campaign.hasThreshold %}
            <div class="col-12 col-md-3">
                <i class="fas fa-chart-bar text-primary"></i> <a class="link-secondary" href="{{ path('yb_members_campaign_crowdfunding', {'id': campaign.id}) }}">Financement participatif</a>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped{% if campaign.successful %} bg-success{% elseif campaign.failed %} bg-danger{% endif %}" role="progressbar" style="width: {{ campaign.percentObjective }}%" aria-valuenow="{{ campaign.percentObjective }}" aria-valuemin="0" aria-valuemax="100">{{ campaign.percentObjective }}%</div>
                </div>
            </div>
        {% endif %}
    </div>

{% endmacro %}